# HTTP 基础

### TCP/IP
TCP/IP 中重要的一点就是分层，大致可以分为四层：应用层、传输层、网络层、数据链路层。
- 应用层： 应用层决定了向用户提供应用服务时通讯的活动。 比如： FTP、DNS。 HTTP协议也属于其中。
- 传输层： 传输层处于应用层之下，将从应用层接收到的数据进行分割，并将各个报文带上标记序号以及端口号后再转发给网络层。传输层有两个性质不同的协议： TCP (Transmission Control Protocal， 传输控制协议) 和 UDP (User Data Control， 用户数据报协议)。
- 网络层： 网络层处于传输层之下，将数据报增加通讯目的地的MAC地址后转发给链路层。
- 数据链路层： 用于连接网络的硬件部分。
> 发送端数据通过层与层之间的传输时，都会带上所属层的首部信息。相反的，在接收端，每经过一层时会将响应的首部去除。这种将数据信息包装的做法称为分装。

### IP协议
IP(Internet Protocol) 协议位于网络层。IP协议的作用是将各种数据包传送给对方，要保证传输需要满足两个重要条件：IP地址和MAC地址。
- IP地址指明了节点被分配到的地址。
- MAC地址是网卡的固定地址。
> IP地址可变，MAC地址基本不会改变。其中可以通过ARP协议(Address Resolution Protocol) 将IP地址反查出MAC地址。



### 三次握手(three-way handshake)
TCP位于传输层，提供可靠的字节流服务。字节流服务(Byte Stream Service)：为了方便传输，将大数据分割成报文段(segment)为单位进行管理。而可靠的传输服务是指，能够把数据可靠的传输给对方。TCP通过三次握手来保证准确无误的传送数据。
TCP协议将数据包发送出去后，会确认数据是否发送成功。发送端首先会发送一个带 `SYN(synchronize)` 标志的数据包给对方。接收端收到后，回传一个带 `SYN/ACK(acknowledgement)`标志的数据包标识传达确认信息。最后发送端再回传一个 `ACK `标志的数据包，代表握手结束。

> 为什么要进行三次握手？
>
> 为了保证服务端能收接受到客户端的信息并能做出正确的应答而进行前两次(第一次和第二次)握手，为了保证客户端能够接收到服务端的信息并能做出正确的应答而进行后两次(第二次和第三次)握手。
> 第三步是防止了乙的一直等待而浪费自己的时间，而不是为了保证甲能够正确回应乙的信息

### DNS(Domain Name System)
DNS位于应用层，提供域名到IP地址的解析服务。发送端通过访问DNS来获取域名对应的IP地址，然后再通过IP地址来访问响应的服务器。

###HTTP
##### 不同的HTTP请求方法

- GET: 获取资源。
- POST: 传输实体的主体。
- PUT： 传输文件
- DELETE：删除文件
- HEAD：获取报文首部

##### 持久化的连接
HTTP早起版本不支持持久化连接，每进行一次HTTP通信就要断开一次。HTTP/1.1 和 HTTP/1.0 解决了持久化连接的问题。只要任意一段没有提出断开连接，则保持HTTP连接。在HTTP/1.1 中默认所有连接都是持久连接。

##### 管线化
持久连接使得多数请求可以管线化(pipelining)。使得不用响应上一个请求就可以直接发送下一个请求。这样可以同时并行发送多个请求，而不需要一个一个等待响应。

